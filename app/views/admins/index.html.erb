<%= render 'shared/header', menu: "overview" %>

<div class="content content-fixed">
  <div class="container pd-x-0 pd-lg-x-10 pd-xl-x-0">
    <div class="d-sm-flex align-items-center justify-content-between mg-b-20 mg-lg-b-25 mg-xl-b-30">
      <div>
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb breadcrumb-style1 mg-b-10">
            <li class="breadcrumb-item">
              <a href="#">Admin</a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">Overview</li>
          </ol>
        </nav>
        <h4 class="mg-b-0 tx-spacing--1">Admin Dashboard</h4>
      </div>
      <div class="d-none d-md-block">
        <button class="btn btn-sm pd-x-15 btn-white btn-uppercase mg-l-5">
          <i class="wd-10 mg-r-5 fe fe-export"></i>
          Export to CSV</button>
        <button class="btn btn-sm pd-x-15 btn-white btn-uppercase mg-l-5" onclick="window.print()">
          <i class="wd-10 mg-r-5 fe fe-print"></i>
          Print</button>
        <button class="btn btn-sm pd-x-15 btn-primary btn-uppercase mg-l-5">
          <i class="wd-10 mg-r-5 fe fe-equalizer"></i>
          Settings</button>
      </div>
    </div>

    <div class="row row-xs">
      <%= render 'admins/charts/general_metrics' %>
      <%= render 'admins/charts/top_providers' %>

      <%= render 'admins/charts/campaigns_count_history' %>
      <!-- col -->
      <%= render 'admins/charts/pending_campaigns' %>
      <!-- col -->
      <%= render 'admins/charts/active_campaigns' %>
      <!-- col -->
      <div class="col-lg-4 col-md-6 mg-t-10">
        <div class="card">
          <div class="card-body pd-y-20 pd-x-25">
            <div class="row row-sm">
              <div class="col-7">
                <h3 class="tx-normal tx-rubik tx-spacing--1 mg-b-5">3,605</h3>
                <h6 class="tx-12 tx-semibold tx-uppercase tx-spacing-1 tx-primary mg-b-5">Click Through</h6>
                <p class="tx-11 tx-color-03 mg-b-0">No. of clicks to ad that consist of a single impression.</p>
              </div>
              <div class="col-5">
                <div class="chart-ten">
                  <div id="flotChart3" class="flot-chart"></div>
                </div>
              </div>
            </div>
          </div>
          <!-- card-body -->
        </div>
        <!-- card -->
      </div>
      <!-- col -->
      <div class="col-lg-4 col-md-6 mg-t-10">
        <div class="card">
          <div class="card-body pd-y-20 pd-x-25">
            <div class="row row-sm">
              <div class="col-7">
                <h3 class="tx-normal tx-rubik tx-spacing--1 mg-b-5">3,266</h3>
                <h6 class="tx-12 tx-semibold tx-uppercase tx-spacing-1 tx-teal mg-b-5">View Through</h6>
                <p class="tx-11 tx-color-03 mg-b-0">Estimated daily unique views per visitor on the ads.</p>
              </div>
              <div class="col-5">
                <div class="chart-ten">
                  <div id="flotChart4" class="flot-chart"></div>
                </div>
              </div>
            </div>
          </div>
          <!-- card-body -->
        </div>
        <!-- card -->
      </div>
      <!-- col -->
      <div class="col-lg-4 col-md-6 mg-t-10">
        <div class="card">
          <div class="card-body pd-y-20 pd-x-25">
            <div class="row row-sm">
              <div class="col-7">
                <h3 class="tx-normal tx-rubik tx-spacing--1 mg-b-5">8,765</h3>
                <h6 class="tx-12 tx-semibold tx-uppercase tx-spacing-1 tx-pink mg-b-5">Total Conversions</h6>
                <p class="tx-11 tx-color-03 mg-b-0">Estimated total conversions on ads per impressions to ads.</p>
              </div>
              <div class="col-5">
                <div class="chart-ten">
                  <div id="flotChart5" class="flot-chart"></div>
                </div>
              </div>
            </div>
          </div>
          <!-- card-body -->
        </div>
        <!-- card -->
      </div>
      <!-- col -->
      <div class="col-lg-6 mg-t-10">
        <div class="card">
          <div class="card-header d-flex align-items-start justify-content-between">
            <h6 class="lh-5 mg-b-0">Total Visits</h6>
            <a href="" class="tx-13 link-03">Mar 01 - Mar 20, 2019
              <i class="icon ion-ios-arrow-down"></i>
            </a>
          </div>
          <!-- card-header -->
          <div class="card-body pd-y-15 pd-x-10">
            <div class="table-responsive">
              <table class="table table-borderless table-sm tx-13 tx-nowrap mg-b-0">
                <thead>
                  <tr class="tx-10 tx-spacing-1 tx-color-03 tx-uppercase">
                    <th class="wd-5p">Link</th>
                    <th>Page Title</th>
                    <th class="text-right">Percentage (%)</th>
                    <th class="text-right">Value</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="align-middle text-center">
                      <a href="">
                        <i class="wd-12 ht-12 stroke-wd-3 fe fe-link-external fe fe-link-external"></i>
                      </a>
                    </td>
                    <td class="align-middle tx-medium">Homepage</td>
                    <td class="align-middle text-right">
                      <div class="wd-150 d-inline-block">
                        <div class="progress ht-4 mg-b-0">
                          <div class="progress-bar bg-teal wd-65p" role="progressbar" aria-valuenow="65" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                      </div>
                    </td>
                    <td class="align-middle text-right">
                      <span class="tx-medium">65.35%</span></td>
                  </tr>
                  <tr>
                    <td class="align-middle text-center">
                      <a href="">
                        <i class="wd-12 ht-12 stroke-wd-3 fe fe-link-external"></i>
                      </a>
                    </td>
                    <td class="align-middle tx-medium">Our Services</td>
                    <td class="align-middle text-right">
                      <div class="wd-150 d-inline-block">
                        <div class="progress ht-4 mg-b-0">
                          <div class="progress-bar bg-primary wd-85p" role="progressbar" aria-valuenow="85" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                      </div>
                    </td>
                    <td class="text-right">
                      <span class="tx-medium">84.97%</span></td>
                  </tr>
                  <tr>
                    <td class="align-middle text-center">
                      <a href="">
                        <i class="wd-12 ht-12 stroke-wd-3 fe fe-link-external"></i>
                      </a>
                    </td>
                    <td class="align-middle tx-medium">List of Products</td>
                    <td class="align-middle text-right">
                      <div class="wd-150 d-inline-block">
                        <div class="progress ht-4 mg-b-0">
                          <div class="progress-bar bg-warning wd-45p" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                      </div>
                    </td>
                    <td class="text-right">
                      <span class="tx-medium">38.66%</span></td>
                  </tr>
                  <tr>
                    <td class="align-middle text-center">
                      <a href="">
                        <i class="wd-12 ht-12 stroke-wd-3 fe fe-link-external"></i>
                      </a>
                    </td>
                    <td class="align-middle tx-medium">Contact Us</td>
                    <td class="align-middle text-right">
                      <div class="wd-150 d-inline-block">
                        <div class="progress ht-4 mg-b-0">
                          <div class="progress-bar bg-pink wd-15p" role="progressbar" aria-valuenow="15" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                      </div>
                    </td>
                    <td class="text-right">
                      <span class="tx-medium">16.11%</span></td>
                  </tr>
                  <tr>
                    <td class="align-middle text-center">
                      <a href="">
                        <i class="wd-12 ht-12 stroke-wd-3 fe fe-link-external"></i>
                      </a>
                    </td>
                    <td class="align-middle tx-medium">Product 50% Sale</td>
                    <td class="align-middle text-right">
                      <div class="wd-150 d-inline-block">
                        <div class="progress ht-4 mg-b-0">
                          <div class="progress-bar bg-teal wd-60p" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                      </div>
                    </td>
                    <td class="text-right">
                      <span class="tx-medium">59.34%</span></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <!-- card-body -->
        </div>
        <!-- card -->
      </div>
      <!-- col -->
      <div class="col-lg-6 mg-t-10">
        <div class="card">
          <div class="card-header d-sm-flex align-items-start justify-content-between">
            <h6 class="lh-5 mg-b-0">Browser Used By Users</h6>
            <a href="" class="tx-13 link-03">Mar 01 - Mar 20, 2019
              <i class="icon ion-ios-arrow-down"></i>
            </a>
          </div>
          <!-- card-header -->
          <div class="card-body pd-y-15 pd-x-10">
            <div class="table-responsive">
              <table class="table table-borderless table-sm tx-13 tx-nowrap mg-b-0">
                <thead>
                  <tr class="tx-10 tx-spacing-1 tx-color-03 tx-uppercase">
                    <th class="wd-5p">&nbsp;</th>
                    <th>Browser</th>
                    <th class="text-right">Sessions</th>
                    <th class="text-right">Bounce Rate</th>
                    <th class="text-right">Conversion Rate</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <i class="fa fa-chrome tx-primary op-6"></i>
                    </td>
                    <td class="tx-medium">Google Chrome</td>
                    <td class="text-right">13,410</td>
                    <td class="text-right">40.95%</td>
                    <td class="text-right">19.45%</td>
                  </tr>
                  <tr>
                    <td>
                      <i class="fa fa-firefox tx-orange"></i>
                    </td>
                    <td class="tx-medium">Mozilla Firefox</td>
                    <td class="text-right">1,710</td>
                    <td class="text-right">47.58%</td>
                    <td class="text-right">19.99%</td>
                  </tr>
                  <tr>
                    <td>
                      <i class="fa fa-safari tx-primary"></i>
                    </td>
                    <td class="tx-medium">Apple Safari</td>
                    <td class="text-right">1,340</td>
                    <td class="text-right">56.50%</td>
                    <td class="text-right">11.00%</td>
                  </tr>
                  <tr>
                    <td>
                      <i class="fa fa-edge tx-primary"></i>
                    </td>
                    <td class="tx-medium">Microsoft Edge</td>
                    <td class="text-right">713</td>
                    <td class="text-right">59.62%</td>
                    <td class="text-right">4.69%</td>
                  </tr>
                  <tr>
                    <td>
                      <i class="fa fa-opera tx-danger"></i>
                    </td>
                    <td class="tx-medium">Opera</td>
                    <td class="text-right">380</td>
                    <td class="text-right">52.50%</td>
                    <td class="text-right">8.75%</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <!-- table-responsive -->
          </div>
          <!-- card-body -->
        </div>
        <!-- card -->
      </div>
      <!-- col -->
    </div>
    <!-- row -->
  </div>
  <!-- container -->
</div>
<script>
  $(function () {
    'use strict'

    var ctx1 = document.getElementById('chartBar1').getContext('2d');
    new Chart(ctx1, {
      type: 'bar',
      data: {
        labels: [
          'Jan',
          'Feb',
          'Mar',
          'Apr',
          'May',
          'Jun',
          'Jul',
          'Aug',
          'Sep',
          'Oct',
          'Nov',
          'Dec'
        ],
        datasets: [
          {
            data: [
              150,
              110,
              90,
              115,
              125,
              160,
              160,
              140,
              100,
              110,
              120,
              120
            ],
            backgroundColor: '#66a4fb'
          }, {
            data: [
              180,
              140,
              120,
              135,
              155,
              170,
              180,
              150,
              140,
              150,
              130,
              130
            ],
            backgroundColor: '#65e0e0'
          }
        ]
      },
      options: {
        maintainAspectRatio: false,
        legend: {
          display: false,
          labels: {
            display: false
          }
        },
        scales: {
          xAxes: [
            {
              display: false,
              barPercentage: 0.5
            }
          ],
          yAxes: [
            {
              gridLines: {
                color: '#ebeef3'
              },
              ticks: {
                fontColor: '#8392a5',
                fontSize: 10,
                min: 80,
                max: 200
              }
            }
          ]
        }
      }
    });

    /** PIE CHART **/
    var datapie = {
      labels: [
        'Organic Search', 'Email', 'Referral', 'Social Media'
      ],
      datasets: [
        {
          data: [
            20, 20, 30, 25
          ],
          backgroundColor: ['#f77eb9', '#7ebcff', '#7ee5e5', '#fdbd88']
        }
      ]
    };

    var optionpie = {
      maintainAspectRatio: false,
      responsive: true,
      legend: {
        display: false
      },
      animation: {
        animateScale: true,
        animateRotate: true
      }
    };

    // For a pie chart
    var ctx2 = document.getElementById('chartDonut');
    var myDonutChart = new Chart(ctx2, {
      type: 'doughnut',
      data: datapie,
      options: optionpie
    });

    $.plot('#flotChart1', [
      {
        data: df1,
        color: '#c0ccda',
        lines: {
          fill: true,
          fillColor: '#f5f6fa'
        }
      }, {
        data: df3,
        color: '#0168fa',
        lines: {
          fill: true,
          fillColor: '#d1e6fa'
        }
      }
    ], {
      series: {
        shadowSize: 0,
        lines: {
          show: true,
          lineWidth: 1.5
        }
      },
      grid: {
        borderWidth: 0,
        labelMargin: 0
      },
      yaxis: {
        show: false,
        max: 65
      },
      xaxis: {
        show: false,
        min: 40,
        max: 100
      }
    });

    $.plot('#flotChart2', [
      {
        data: df2,
        color: '#66a4fb',
        lines: {
          show: true,
          lineWidth: 1.5,
          fill: .03
        }
      }, {
        data: df1,
        color: '#00cccc',
        lines: {
          show: true,
          lineWidth: 1.5,
          fill: true,
          fillColor: '#fff'
        }
      }, {
        data: df3,
        color: '#e3e7ed',
        bars: {
          show: true,
          lineWidth: 0,
          barWidth: .5,
          fill: 1
        }
      }
    ], {
      series: {
        shadowSize: 0
      },
      grid: {
        aboveData: true,
        color: '#e5e9f2',
        borderWidth: {
          top: 0,
          right: 1,
          bottom: 1,
          left: 1
        },
        labelMargin: 0
      },
      yaxis: {
        show: false,
        min: 0,
        max: 100
      },
      xaxis: {
        show: true,
        min: 40,
        max: 80,
        ticks: 6,
        tickColor: 'rgba(0,0,0,0.04)'
      }
    });

    var df3data1 = [
      [
        0, 12
      ],
      [
        1, 10
      ],
      [
        2, 7
      ],
      [
        3, 11
      ],
      [
        4, 15
      ],
      [
        5, 20
      ],
      [
        6, 22
      ],
      [
        7, 19
      ],
      [
        8, 18
      ],
      [
        9, 20
      ],
      [
        10, 17
      ],
      [
        11, 19
      ],
      [
        12, 18
      ],
      [
        13, 14
      ],
      [
        14, 9
      ]
    ];
    var df3data2 = [
      [
        0, 0
      ],
      [
        1, 0
      ],
      [
        2, 0
      ],
      [
        3, 2
      ],
      [
        4, 5
      ],
      [
        5, 2
      ],
      [
        6, 12
      ],
      [
        7, 15
      ],
      [
        8, 10
      ],
      [
        9, 8
      ],
      [
        10, 10
      ],
      [
        11, 7
      ],
      [
        12, 2
      ],
      [
        13, 4
      ],
      [
        14, 0
      ]
    ];
    var df3data3 = [
      [
        0, 2
      ],
      [
        1, 1
      ],
      [
        2, 2
      ],
      [
        3, 4
      ],
      [
        4, 2
      ],
      [
        5, 1
      ],
      [
        6, 0
      ],
      [
        7, 0
      ],
      [
        8, 5
      ],
      [
        9, 2
      ],
      [
        10, 8
      ],
      [
        11, 6
      ],
      [
        12, 9
      ],
      [
        13, 2
      ],
      [
        14, 0
      ]
    ];
    var df3data4 = [
      [
        0, 0
      ],
      [
        1, 5
      ],
      [
        2, 2
      ],
      [
        3, 0
      ],
      [
        4, 2
      ],
      [
        5, 7
      ],
      [
        6, 10
      ],
      [
        7, 12
      ],
      [
        8, 8
      ],
      [
        9, 6
      ],
      [
        10, 4
      ],
      [
        11, 2
      ],
      [
        12, 0
      ],
      [
        13, 0
      ],
      [
        14, 0
      ]
    ];

    var flotChartOption1 = {
      series: {
        shadowSize: 0,
        bars: {
          show: true,
          lineWidth: 0,
          barWidth: .5,
          fill: 1
        }
      },
      grid: {
        aboveData: true,
        color: '#e5e9f2',
        borderWidth: 0,
        labelMargin: 0
      },
      yaxis: {
        show: false,
        min: 0,
        max: 25
      },
      xaxis: {
        show: false
      }
    };

    $.plot('#flotChart3', [
      {
        data: df3data1,
        color: '#e5e9f2'
      }, {
        data: df3data2,
        color: '#66a4fb'
      }
    ], flotChartOption1);

    $.plot('#flotChart4', [
      {
        data: df3data1,
        color: '#e5e9f2'
      }, {
        data: df3data3,
        color: '#7ee5e5'
      }
    ], flotChartOption1);

    $.plot('#flotChart5', [
      {
        data: df3data1,
        color: '#e5e9f2'
      }, {
        data: df3data4,
        color: '#f77eb9'
      }
    ], flotChartOption1);

  })
</script>
