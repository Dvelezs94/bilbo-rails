<%= form_with(model: board, :html => { :id => "new_board", data: { parsley_validate: true, parsley_errors_messages_disabled: true } }, local: false) do |f| %>

<%= f.hidden_field :lat %>
<%= f.hidden_field :lng %>

<div class="form-group">
  <%= f.label t("general_inputs.name") %><br/>
  <%= f.text_field :name, class: "form-control", autocomplete: "off", required: true, placeholder: t("general_inputs.name") %>
</div>

<div class="form-group">
  <%= f.label t("general_inputs.address") %><br/>
  <%= f.text_field :address, class: "form-control google_autocomplete", required: true, autocomplete: "off",placeholder: t("general_inputs.address")%>
</div>

<div class="form-group">
  <div class="row">
    <div class="col-sm-12 col-md-6">
      <%= f.label t('bilbos.category') %>
      <%= f.select("category", [[t("bilbos.billboard"),"billboard"],[t("bilbos.wallboard"),"wallboard"],[t("bilbos.television"),"television"]], {}, {:class => "custom-select"}) %>
    </div>
    <div class="col-sm-12 col-md-6">
      <%= f.label t('bilbos.avg_views') %>
      <%= f.text_field :avg_daily_views, class: "form-control", autocomplete: "off", required: true, placeholder: "200" %>
    </div>
  </div>
</div>

<div class="form-group">
  <div class="row">
    <div class="col-sm-12 col-md-6">
      <%= f.label t('bilbos.expected_profit') %>
      <div class="input-group mg-b-10">
        <div class="input-group-prepend">
          <span class="input-group-text" id="basic-addon1">$</span>
        </div>
        <%= f.text_field :base_earnings, class: "form-control", autocomplete: "off", required: true, placeholder: "200", aria: { describedby: "bilbobaseearnings", label: "Base Earnings"} %>
        <div class="input-group-append">
          <span class="input-group-text" id="bilbobaseearnings"><%= ENV.fetch("CURRENCY") %></span>
        </div>
      </div>
    </div>

  </div>
</div>

<div class="form-group">
  <%= f.label t('bilbos.face') %><br/>
  <%= f.text_field :face, class: "form-control", autocomplete: "off", required: true, placeholder: t('bilbos.face'), list: "faces" %>
  <datalist id="faces">
    <option value="<%= t("bilbos.north") %>">
    <option value="<%= t("bilbos.south") %>">
    <option value="<%= t("bilbos.east") %>">
    <option value="<%= t("bilbos.west") %>">
    <option value="Cuarto 1">
  </datalist>
</div>

<div class="form-group">
  <%= f.label " Social class" %><br/>
  <%= f.text_field :social_class, class: "form-control", autocomplete: "off", required: true, placeholder: "A", list: "social" %>
  <datalist id="social">
    <option value= "A">
    <option value="AA">
    <option value="AAA">
    <option value="AAA+">
  </datalist>
</div>

<div class="form-group">
  <%= f.label t('bilbos.dimensions') %><br/>
  <div class="row">
    <div class="col-6">
      <%= f.text_field :width, class: "form-control", placeholder: "width", required: true %>
    </div>
    <div class="col-6">
      <%= f.text_field :height, class: "form-control", placeholder: "height", required: true %>
    </div>
  </div>
</div>

<div class="form-group">
  <%= f.label t("bilbos.working_hours") %><br/>
  <%= f.text_field :working_hours, class: "form-control", autocomplete: "off", required: true, placeholder: "12" %>
</div>

 <div class="form-group">
  <%= f.label :images %>
  <%= f.file_field :images, multiple: true, class: "form-control"%>
</div>
<% if board.images.attached? %>
<div class="d-flex">
  <% board.images.each do |im| %>
  <figure class="img-caption pos-relative mg-b-0 fit-content" signed_id="<%= im.signed_id %>">
    <%= image_tag im, class: "img-thumbnail", width: "200px" %>
    <figcaption class="pos-absolute a-0 wd-100p pd-20 d-flex flex-column justify-content-center bg-white-9 transition-base op-0">
      <%= link_to delete_image_board_path(board.slug, signed_id: im.signed_id), method: :delete, remote: true, class: "btn btn-dark btn-icon", data: { confirm: t("general_inputs.confirm_deletion") } do %>
      <i class="fe fe-trash"></i>
      <% end %>
    </figcaption>
  </figure>
  <%= f.hidden_field :images, multiple: true, value: im.signed_id, signed_id: im.signed_id %>
  <% end %>
</div>
<% end %>
<div class="form-group">
 <%= f.label :default_image %>
 <%= f.file_field :default_image, class: "form-control"%>
 <%= image_tag board.default_image, class: "img-thumbnail", width: "200px", id: "board-default-img" if board.default_image.present?%>
</div>

<div class="actions col-sm-12 col-md-6 m-auto">
  <%= f.submit t("general_inputs.update"), class: "btn btn-primary btn-block", id: "submit_board" %>
</div>
<% end %>
