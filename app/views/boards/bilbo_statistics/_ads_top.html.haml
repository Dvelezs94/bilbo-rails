.col-lg-8.col-xl-6.mg-t-10
  .card
    .card-header
      %div
        %h6.mg-b-5
          = t('bilbos.campaign_ads')
        %p.tx-12.tx-color-03.mg-b-0
          = t('bilbos.ads_top')

    .card-body.pd-lg-30
      #adsCarousel.carousel.slide{"data-ride" => "carousel"}
        .carousel-inner
          -if @board.campaigns.present? && @board.campaigns.find_by_name(@bilbo_top[0]).present? && @board.campaigns.find_by_name(@bilbo_top[0]).has_multimedia?
            - if @board.images_only
              - @board.campaigns.find_by_name(@bilbo_top[0]).ad.images.each.with_index do |media_first,i|
                %div{class: "carousel-item #{'active' if i == 0}"}
                  = link_to url_from_media(media_first), class: "glightbox", type: "image" do
                    = image_tag url_from_media(media_first), size:"600x300", class: "d-block w-100 obj-fit-scale-down"
            - else
              - @board.campaigns.find_by_name(@bilbo_top[0]).ad.multimedia.each.with_index do |media_first,i|
                %div{class: "carousel-item #{'active' if i == 0}"}
                  -if media_first.video?
                    = link_to url_from_media(media_first), class: "glightbox", type: "video" do
                      = video_tag(url_from_media(media_first), size:"600x300", class: "d-block w-100 obj-fit-scale-down", autoplay: true, loop: true, muted: 'muted', style: "object-fit: contain;")
                  -else
                    = link_to url_from_media(media_first), class: "glightbox", type: "image" do
                      = image_tag url_from_media(media_first), size:"600x300", class: "d-block w-100 obj-fit-scale-down"
            = render partial: "boards/bilbo_statistics/board_top", collection: @board.campaigns.where(name: @bilbo_top.map{|sub| sub.values_at(0)}.join(",").split(",").values_at(1,2,3)), as: :campaign
          -else
            .carousel-item.active
            = image_tag image_path("board_placeholder"), size:"600x300", class: "d-block w-100 obj-fit-scale-down", alt: "No Image"
        %a.carousel-control-prev{"data-slide" => "prev", href: "#adsCarousel", role: "button"}
          %span.carousel-control-prev-icon{"aria-hidden" => "true"}
            %i.fe.fe-arrow-left.tx-30
          %span.sr-only Previous
        %a.carousel-control-next{"data-slide" => "next", href: "#adsCarousel", role: "button"}
          %span.carousel-control-next-icon{"aria-hidden" => "true"}
            %i.fe.fe-arrow-right.tx-30
          %span.sr-only Next
