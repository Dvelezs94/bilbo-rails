-if ad.processed? || current_page?(ads_path)
  = render partial: "shared/skeleton", :locals => {:ad => "#{ad.id}"}
  %a.link-02.col-sm-6.col-md-6.col-lg-4.col-xl-3.mg-b-20.pd-0.card-ad-link{:href => "#{ad_path(ad)}", :id => "#{ad.id}", style: "display: none;"}
    .col-12{"data-placement" => "top", "data-toggle" => "tooltip", :title => "#{ad.description}"}
      .card.card-file
        .card-file-thumb.bg-white
          - if ad.multimedia.first
            - meta = get_image_size_from_metadata(ad.multimedia.first)
            -if (ActiveStorage::Filename.new(ad.multimedia.first.filename.to_s).extension_without_delimiter.include? "mp4")
              %img.lazy-img{"data-src" => "#{generate_thumbnail(ad.multimedia.first, 600, 600)}", :class => "img-inherit"}/
            -elsif meta[:height] <= 1080
              %img.lazy-img{"data-src" => "#{generate_thumbnail(ad.multimedia.first, 600, 600)}", :class => "img-inherit"}/
            -else
              %img.lazy-img{"data-src" => "#{image_path("construction_video.gif")}", :class => "img-inherit"}/
          - else
            %img.lazy-img{"data-src" => "#{image_path("placeholder_sm")}", :class => "img-inherit"}/
        .card-body
          %h6= ad.name
        .card-footer
          %span.d-sm-inline
            = t("campaign.active_campaigns")
            \:
          = ad.campaigns.active.size
          .d-none.ad-duration{:data => {duration: current_user.is_provider? ? ad.duration : ""}}
