= render 'shared/header', menu: "dashboard"
.content.content-fixed
  .container.pd-x-0.pd-lg-x-10.pd-xl-x-0
    .d-flex.align-items-center.justify-content-between.mg-b-20.mg-lg-b-30
      %div
        %nav{"aria-label" => "breadcrumb"}
          %ol.breadcrumb.breadcrumb-style1.mg-b-10
            %li.breadcrumb-item
              %a{:href => "/"}= t("campaign.home")
            %li.breadcrumb-item.active{"aria-current" => "page"}= t("campaign.campaign")
        %h4.mg-b-0.tx-spacing--1= t("campaign.campaign")
      .d-block
        %a{"data-toggle" => "modal", :href => "#modalNewCampaign"}
          %button.btn.btn-sm.pd-x-15.btn-primary.btn-uppercase.mg-l-5
            %i.wd-10.mg-r-5.fe.fe-plus
            = t("campaign.new_campaign")
    -if current_user == @project.owner && @project.owner.balance < 20 && !@project.users.first.is_provider?
      .alert.alert-solid.alert-danger.d-flex.align-items-center.alert-dismissible.fade.show{:role => "alert"}
        -if @project.owner.verified
          %i.mg-r-10{class: "fe fe-warning"}
          = t('alert.project_out_of_credits')
          %a{class: "pd-l-5", "data-toggle" => "modal", :href => "#modalNewPayment", :style => "color:white; font-weight: bold;"}= t('alert.purchase_credits')
        -else
          %i.mg-r-10{class: "fe fe-warning"}
          = t('alert.verify_profile')
          %a{class: "pd-l-5", "data-toggle" => "modal", :href => "#modalVerify", :style => "color:white; font-weight: bold;"}= t('alert.purchase_credits')
        %button.close{"aria-label" => "Close", "data-dismiss" => "alert", :type => "button"}
          %span{"aria-hidden" => "true"} ×
    -elsif @project.owner.balance < 20 && !current_user.is_provider?
      .alert.alert-solid.alert-danger.d-flex.align-items-center.alert-dismissible.fade.show{:role => "alert"}
        %i.mg-r-10{class: "fe fe-warning"}
        = t('alert.more_credits')
        %button.close{"aria-label" => "Close", "data-dismiss" => "alert", :type => "button"}
          %span{"aria-hidden" => "true"} ×

    - if @project.campaigns.active.size > 0
      .row
        .table-responsive
          %table#userCampaignTable.table
            %thead
              %tr
                %th
                %th= t("campaign.campaign_name")
                %th= t("campaign.bilbos_in_use")
                %th= t("campaign.ad_name")
                %th= t("campaign.start_date")
                %th= t("campaign.end_date")
                %th= t("campaign.impressions")
                %th= t("campaign.daily_budget")
                %th= t("campaign.total_invested")
                %th.no-sort
            %tbody= render partial: "campaigns/campaign_row", collection: @campaigns, as: :campaign
    - else
      .ht-100p.d-flex.flex-column.align-items-center.justify-content-center
        .wd-150.wd-sm-250.mg-b-30
          = image_tag image_path("humaaans/illustration_nothinghere"), class: "img-fluid"
        %h4.tx-20.tx-sm-24= t("general_inputs.nothing_to_see_here")
  / container
/ content
= render partial: "campaigns/new"
